<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>æ¯æ—¥èƒ½é‡æŠ½ç­¾</title>
    <style>
        /* --- 1. å¼•å…¥ä¸“å±å­—ä½“ --- */
        @font-face {
            font-family: 'HuiWen';
            src: url('æ±‡æ–‡æ˜æœä½“.woff2') format('opentype');
        }

        /* --- 2. å…¨å±€ä¸å¹³é“ºèƒŒæ™¯ --- */
        body {
            margin: 0;
            padding: 0;
            width: 100vw;
            /* ã€å¾®ä¿¡/Safari æ ¸å¿ƒä¼˜åŒ– 2ã€‘ä½¿ç”¨ 100dvh è§£å†³åº•éƒ¨å·¥å…·æ é®æŒ¡ï¼Œå¹¶ç”¨ fixed é”æ­»èƒŒæ™¯é˜²ä¸‹æ‹‰æ‹–æ‹½å›å¼¹ */
            height: 100vh;
            height: 100dvh; 
            position: fixed;
            top: 0;
            left: 0;
            font-family: 'HuiWen', "KaiTi", serif;
            overflow: hidden;
            background-image: url('background.png');
            background-repeat: repeat; 
            /* æ¶ˆé™¤æ‰‹æœºç«¯ç‚¹å‡»å…ƒç´ æ—¶çš„ç°è‰²é«˜äº®å— */
            -webkit-tap-highlight-color: transparent; 
        }

        /* --- 3. é¡µé¢ Logo --- */
        .logo {
            position: absolute;
            top: 5vh;
            left: 50%;
            transform: translateX(-50%);
            /* ã€é€‚é…ä¿®å¤ã€‘ä¸ç”¨ 50vhï¼Œæ”¹ç”¨ç›¸å¯¹è¾ƒå°çš„è‡ªé€‚åº”é«˜åº¦ï¼Œå¹¶é™åˆ¶æœ€å¤§å°ºå¯¸ */
            height: 300vh; 
            max-height: 300px;
            width: auto;
            z-index: 1;
            pointer-events: none; /* é˜²æ­¢å›¾ç‰‡è¢«é•¿æŒ‰ä¿å­˜ */
        }

        /* --- 4. é•œå¤´èˆå° --- */
        .stage {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            perspective: 1200px; 
        }

        /* --- 5. ç­¾ç­’åŠæ™ƒåŠ¨æç¤º --- */
        .tube-wrapper {
            position: absolute;
            top: 13%;
            left: 50%;
            transform: translate(-50%, 8vh);
            z-index: 5;
            cursor: pointer;
            
            /* ã€é€‚é…ä¿®å¤ã€‘ä½¿ç”¨ min() å‡½æ•°ï¼Œä¿è¯ç­¾ç­’æœ€å¤§æ˜¯ 360pxï¼Œä½†åœ¨å°æ‰‹æœºä¸Šåªå å±å¹•å®½åº¦çš„ 80% */
            width: min(80vw, 360px); 
            
            transition: transform 1.2s cubic-bezier(0.25, 1, 0.5, 1);
        }

        .tube-wrapper.drawn {
            transform: translate(-50%, 65vh);
        }
        
        .tube-scale-layer {
            width: 100%;
            height: 100%;
            transform-origin: bottom center;
            transition: transform 1.2s cubic-bezier(0.25, 1, 0.5, 1);
        }

        .tube-wrapper.drawn .tube-scale-layer {
            transform: scale(1.1); 
        }

        .tube-img {
            width: 100%;
            height: auto;
            transform-origin: bottom center;
            transition: transform 0.3s ease;
            /* ã€å¾®ä¿¡æ ¸å¿ƒä¼˜åŒ–ã€‘ç¦æ­¢é•¿æŒ‰å›¾ç‰‡å¼¹å‡ºä¿å­˜èœå• */
            -webkit-touch-callout: none; 
            user-select: none;
        }

        @keyframes shake {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(4deg); }
            50% { transform: rotate(0deg); }
            75% { transform: rotate(-4deg); }
            100% { transform: rotate(0deg); }
        }
        .tube-wrapper:hover .tube-img {
            animation: shake 0.6s infinite;
        }

        .tooltip {
            position: absolute;
            top: -50px;
            left: 50%;
            background-color: rgba(60, 40, 30, 0.85);
            color: #f6f7f9;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 16px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s, transform 0.3s;
            transform: translate(-50%, 10px);
            letter-spacing: 2px;
            z-index: 1000; 
        }
        
        /* ç”µè„‘ç«¯æ”¯æŒ hoverï¼Œæ‰‹æœºç«¯æˆ‘ä»¬ç¨åç”¨ JS æ§åˆ¶æç¤ºæ–‡å­— */
        @media (hover: hover) {
            .tube-wrapper:hover .tooltip {
                opacity: 1;
                transform: translate(-50%, 0);
            }
        }

        /* --- 6. ç«¹ç­¾å®¹å™¨ä¸æŠ½å‡ºåŠ¨ç”» --- */
        .stick-wrapper {
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, 6vh);
           
            /* ã€ä¿®æ”¹ç‚¹1ã€‘åˆå§‹çŠ¶æ€çš„çœŸå®åƒç´ å¤§å°ï¼ˆå°ç«¹ç­¾ï¼‰ */
            width: 80px;  
            height: 400px; 
            
            z-index: 2; 
            /* æ‰€æœ‰çš„å®½é«˜å˜åŒ–éƒ½åŠ å…¥åŠ¨ç”»è¿‡æ¸¡ */
            transition: all 1.2s cubic-bezier(0.25, 1, 0.5, 1);
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        
        }

        .stick-wrapper.drawn {
            /* æŠ½å‡ºåä½ç½® */
            transform: translate(-50%, -45%);
            
            /* ã€ä¿®æ”¹ç‚¹2ã€‘æŠ½å‡ºåçš„çœŸå®é«˜æ¸…åƒç´ å¤§å°ï¼ˆå¤§ç«¹ç­¾ï¼‰ */
            /* å¦‚æœä½ è§‰å¾—ä¸å¤Ÿå¤§ï¼Œå¯ä»¥ç›´æ¥æŠŠè¿™é‡Œçš„æ•°å€¼æ”¹å¤§ï¼ */
            width: 320px; 
            height: 1600px; 
            
            z-index: 2; 

        }

        /* --- 7. ç«¹ç­¾ 3D ç¿»è½¬ç»“æ„ --- */
        .stick-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.8s ease-in-out;
            transform-style: preserve-3d;
        }
        .stick-wrapper.flipped .stick-inner {
            transform: rotateY(180deg);
        }
        .stick-front, .stick-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
        }
        .stick-front img, .stick-back img {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: contain; 
            /* ã€å¾®ä¿¡æ ¸å¿ƒä¼˜åŒ–ã€‘ç¦æ­¢é•¿æŒ‰å›¾ç‰‡ */
            -webkit-touch-callout: none;
            pointer-events: none; 
        }
        .stick-back {
            transform: rotateY(180deg);
        }

        /* --- 8. æ–‡å­—æ’ç‰ˆä¸æ¸æ˜¾åŠ¨ç”» --- */
        .stick-number {
            font-size:18px;
            color: #333;
            writing-mode: vertical-rl;
            letter-spacing: 5px;
            position: absolute;
            left: 50%;
            top: 45%; 
            transform: translateX(-50%);
            
            /* â¬‡ï¸ ã€æ‰‹åŠ¨æ§åˆ¶æ­£é¢æ–‡å­—å·¦å³ã€‘ â¬‡ï¸ */
            /* å¦‚æœåå³ï¼Œå°±å†™è´Ÿæ•°ï¼ˆæ¯”å¦‚ -15px, -20px, -30pxï¼‰ï¼Œæ•°å­—è¶Šå°è¶Šé å·¦ */
            /* å¦‚æœåå·¦ï¼Œå°±å†™æ­£æ•°ï¼ˆæ¯”å¦‚ 10px, 20pxï¼‰ */
            margin-left: -10px; 
            /* â¬†ï¸ --------------------- â¬†ï¸ */

            opacity: 0; 
            transition: opacity 0.3s; 
        }

        .stick-wrapper.drawn .stick-number {
            opacity: 1;
            transition: opacity 0.8s ease 1.2s;
        }

        .fortune-text {
            /* åŒæ ·ä½¿ç”¨ flex ä¿®å¤æ³• */
            position: absolute;
            left: 0;
            width: 100%;
            top: 27%; /* è·ç¦»é¡¶éƒ¨çš„è·ç¦» */
            display: flex;
            justify-content: center;
            
            font-size: 18px;
            color: #333;
            writing-mode: vertical-rl;
            letter-spacing: 2px;
            line-height: 1.6;
            height: 50%; /* é™åˆ¶æ–‡å­—æ€»é«˜åº¦ */
            margin-left: -10px; 
            align-items: center; /* è®©æ–‡å­—å‚ç›´å±…ä¸­ */
        }
    </style>
</head>
<body>

    <audio id="bg-music" src="bgm.mp3" loop preload="auto"></audio>

    <img src="logo.png" class="logo" alt="èƒ½é‡æŠ½ç­¾ Logo" onerror="this.style.display='none'">

    <div class="stage">
        <div class="stick-wrapper" id="stick-wrapper">
            <div class="stick-inner">
                <div class="stick-front">
                    <img src="qian-front.png" alt="ç«¹ç­¾æ­£é¢">
                    <div class="stick-number" id="stick-number">åŠ è½½ä¸­</div>
                </div>
                <div class="stick-back">
                    <img src="qian-back.png" alt="ç«¹ç­¾èƒŒé¢">
                    <div class="fortune-text" id="fortune-text">åŠ è½½ä¸­...</div>
                </div>
            </div>
        </div>

        <div class="tube-wrapper" id="tube-wrapper">
            <div class="tooltip" id="tooltip">ç‚¹å‡»æŠ½å–ä»Šæ—¥ã€Œå°å¯ç­¾ã€</div>
            <div class="tube-scale-layer">
                <img src="qiantong.png" class="tube-img" alt="ç­¾ç­’">
            </div>
        </div>
    </div>

    <script>
        const fortunes = [
            { number: "ç¬¬ã€‡ã€‡ä¸€ç­¾", text: "æ…¢ä¸€ç‚¹ï¼Œä¹Ÿæ²¡å…³ç³»ã€‚" },
            { number: "ç¬¬ã€‡ã€‡äºŒç­¾", text: "å…è®¸ä¸€åˆ‡å‘ç”Ÿï¼Œä¿æŒå¹³å¸¸å¿ƒã€‚" },
            { number: "ç¬¬ã€‡ã€‡ä¸‰ç­¾", text: "æ·±å‘¼å¸ï¼Œæ„Ÿå—å½“ä¸‹çš„åŠ›é‡ã€‚" },
            { number: "ç¬¬ã€‡ã€‡å››ç­¾", text: "åŠ¨èµ·æ¥ï¼Œå“ªæ€•åªæ˜¯äº”åˆ†é’Ÿçš„æ‹‰ä¼¸ã€‚" },
            { number: "ç¬¬ã€‡ã€‡äº”ç­¾", text: "ä¸æ‰¾å€Ÿå£ï¼Œå…ˆå¼€å§‹å†è¯´ã€‚" },
            { number: "ç¬¬ã€‡ã€‡å…­ç­¾", text: "èº«ä½“æ˜¯ç¥æ®¿ï¼Œä»Šå¤©è®°å¾—å¥½å¥½å–æ°´ã€‚" },
            { number: "ç¬¬ã€‡ã€‡ä¸ƒç­¾", text: "ä¸æ€¥ç€å›åº”ï¼Œç»™è‡ªå·±ç•™ç‚¹ç©ºç™½ã€‚" },
            { number: "ç¬¬ã€‡ã€‡å…«ç­¾", text: "è¯•ç€å¼€å§‹ï¼Œä¸å¿…å®Œå…¨å‡†å¤‡å¥½ã€‚" },
            { number: "ç¬¬ã€‡ã€‡ä¹ç­¾", text: "ä½ å·²ç»åšå¾—å¤Ÿå¤šäº†ã€‚" },
            { number: "ç¬¬ã€‡ä¸€ã€‡ç­¾", text: "æŠŠèŠ‚å¥è°ƒæ…¢ä¸€ç‚¹ã€‚" },
            { number: "ç¬¬ã€‡ä¸€ä¸€ç­¾", text: "çƒ¦æ¼åƒæµ®äº‘ï¼Œçœ‹ç€å®ƒé£˜èµ°ã€‚" },
            { number: "ç¬¬ã€‡ä¸€äºŒç­¾", text: "ä»Šå¤©åªå…³æ³¨èƒ½æ”¹å˜çš„äº‹æƒ…ã€‚" },
            { number: "ç¬¬ã€‡ä¸€ä¸‰ç­¾", text: "å…è®¸è‡ªå·±æœ‰ä¸ªæ¯«æ— ä½œä¸ºçš„ä¸‹åˆã€‚" },
            { number: "ç¬¬ã€‡ä¸€å››ç­¾", text: "ä¸‡ç‰©çš†æœ‰è£‚ç—•ï¼Œé‚£æ˜¯å…‰ç…§è¿›æ¥çš„åœ°æ–¹ã€‚" },
            { number: "ç¬¬ã€‡ä¸€äº”ç­¾", text: "æŠŠæ³¨æ„åŠ›æ”¾å›å‘¼å¸ä¸Šã€‚" },
            { number: "ç¬¬ã€‡ä¸€å…­ç­¾", text: "å»æ•£æ­¥å§ï¼Œå»æ„Ÿå—é£ã€‚" },
            { number: "ç¬¬ã€‡ä¸€ä¸ƒç­¾", text: "æ‰¿è®¤è‡ªå·±çš„ä¸å®Œç¾ï¼Œå¹¶æ‹¥æŠ±å®ƒã€‚" },
            { number: "ç¬¬ã€‡ä¸€å…«ç­¾", text: "ä½ çš„å­˜åœ¨æœ¬èº«å°±æ˜¯ä¸€ç§ç¾å¥½ã€‚" },
            { number: "ç¬¬ã€‡ä¸€ä¹ç­¾", text: "å…ˆå®Œæˆï¼Œå†å®Œç¾ã€‚" },
            { number: "ç¬¬ã€‡äºŒã€‡ç­¾", text: "ç­”æ¡ˆåœ¨è·¯ä¸Šï¼Œä¸åœ¨ç„¦è™‘é‡Œã€‚" },
            { number: "ç¬¬ã€‡äºŒä¸€ç­¾", text: "åƒé¡¿å¥½é¥­ï¼Œæ¯”ä»€ä¹ˆéƒ½é‡è¦ã€‚" },
            { number: "ç¬¬ã€‡äºŒäºŒç­¾", text: "ç¡ä¸ªå¥½è§‰ï¼Œæ˜¯æ²»æ„ˆä¸€åˆ‡çš„è‰¯è¯ã€‚" },
            { number: "ç¬¬ã€‡äºŒä¸‰ç­¾", text: "å€¾å¬èº«ä½“çš„å£°éŸ³ï¼Œå®ƒæ¯”å¤´è„‘æ›´è¯šå®ã€‚" },
            { number: "ç¬¬ã€‡äºŒå››ç­¾", text: "å¶å°”åœä¸‹æ¥ï¼Œçœ‹çœ‹è·¯è¾¹çš„æ ‘ã€‚" },
            { number: "ç¬¬ã€‡äºŒäº”ç­¾", text: "æ²¡æœ‰ä»€ä¹ˆæ˜¯éåšä¸å¯çš„ã€‚" },
            { number: "ç¬¬ã€‡äºŒå…­ç­¾", text: "æ„Ÿè°¢æ˜¨å¤©åŠªåŠ›çš„è‡ªå·±ã€‚" },
            { number: "ç¬¬ã€‡äºŒä¸ƒç­¾", text: "ä¸€åˆ‡çƒ¦æ¼ï¼Œçš†æ˜¯è©æã€‚" },
            { number: "ç¬¬ã€‡äºŒå…«ç­¾", text: "ä¿æŒè§‰çŸ¥ï¼Œæ´»åœ¨æ­¤æ—¶æ­¤åœ°ã€‚" },
            { number: "ç¬¬ã€‡äºŒä¹ç­¾", text: "æ”¾å¼ƒé‚£äº›æ¶ˆè€—ä½ çš„äººå’Œäº‹ã€‚" },
            { number: "ç¬¬ã€‡ä¸‰ã€‡ç­¾", text: "ä»Šå¤©çš„ä»»åŠ¡å°±æ˜¯å¼€å¿ƒã€‚" },
            { number: "ç¬¬ã€‡ä¸‰ä¸€ç­¾", text: "æŸ”è½¯ä¸€ç‚¹ï¼Œåƒæ°´ä¸€æ ·ã€‚" },
            { number: "ç¬¬ã€‡ä¸‰äºŒç­¾", text: "ä¸è¦ä¸ºäº†æœªå‘ç”Ÿçš„äº‹æƒ…æ‹…å¿§ã€‚" },
            { number: "ç¬¬ã€‡ä¸‰ä¸‰ç­¾", text: "è¡ŒåŠ¨æ˜¯æ‰“è´¥ç„¦è™‘çš„æœ€å¥½åŠæ³•ã€‚" },
            { number: "ç¬¬ã€‡ä¸‰å››ç­¾", text: "é—­ä¸Šçœ¼ç›ï¼Œç»™è‡ªå·±ä¸€ä¸ªæ‹¥æŠ±ã€‚" },
            { number: "ç¬¬ã€‡ä¸‰äº”ç­¾", text: "ç›¸ä¿¡ç›´è§‰ï¼Œå®ƒæŒ‡å¼•ä½ å‰è¿›ã€‚" },
            { number: "ç¬¬ã€‡ä¸‰å…­ç­¾", text: "æ…¢ä¸‹æ¥ï¼Œæ‰èƒ½çœ‹æ¸…æ–¹å‘ã€‚" },
            { number: "ç¬¬ã€‡ä¸‰ä¸ƒç­¾", text: "ç»™ç”Ÿæ´»åšå‡æ³•ï¼Œç»™ç²¾ç¥åšåŠ æ³•ã€‚" },
            { number: "ç¬¬ã€‡ä¸‰å…«ç­¾", text: "é¡ºå…¶è‡ªç„¶ï¼Œè¯¥æ¥çš„æ€»ä¼šæ¥ã€‚" },
            { number: "ç¬¬ã€‡ä¸‰ä¹ç­¾", text: "ä¸å¿…è®¨å¥½æ‰€æœ‰äººã€‚" },
            { number: "ç¬¬ã€‡å››ã€‡ç­¾", text: "æŠŠå¿ƒæ”¾ç©ºï¼Œæ‰èƒ½è£…ä¸‹æ–°çš„å¯èƒ½ã€‚" },
            { number: "ç¬¬ã€‡å››ä¸€ç­¾", text: "ä»Šå¤©é€‚åˆæ•´ç†æˆ¿é—´ï¼Œä¹Ÿæ•´ç†å¿ƒæƒ…ã€‚" },
            { number: "ç¬¬ã€‡å››äºŒç­¾", text: "åŸè°…è‡ªå·±æ›¾ç»çŠ¯è¿‡çš„é”™ã€‚" },
            { number: "ç¬¬ã€‡å››ä¸‰ç­¾", text: "æ¥çº³å½“ä¸‹çš„æƒ…ç»ªï¼Œæ— è®ºå¥½åã€‚" },
            { number: "ç¬¬ã€‡å››å››ç­¾", text: "ä½ æ¯”ä½ æƒ³è±¡çš„æ›´å¼ºå¤§ã€‚" },
            { number: "ç¬¬ã€‡å››äº”ç­¾", text: "æŠ¬å¤´çœ‹çœ‹å¤©ç©ºï¼Œä¸–ç•Œå¾ˆå¹¿é˜”ã€‚" },
            { number: "ç¬¬ã€‡å››å…­ç­¾", text: "æ¯å¤©è¿›æ­¥ä¸€ç‚¹ç‚¹å°±å¤Ÿäº†ã€‚" },
            { number: "ç¬¬ã€‡å››ä¸ƒç­¾", text: "ç§ä¸€æ£µæ ‘æœ€å¥½çš„æ—¶é—´æ˜¯åå¹´å‰ï¼Œå…¶æ¬¡æ˜¯ç°åœ¨ã€‚" },
            { number: "ç¬¬ã€‡å››å…«ç­¾", text: "åˆ«æ‰¾å€Ÿå£ï¼Œç°åœ¨å°±å»åšã€‚" },
            { number: "ç¬¬ã€‡å››ä¹ç­¾", text: "äº«å—ç‹¬å¤„çš„æ—¶å…‰ã€‚" },
            { number: "ç¬¬ã€‡äº”ã€‡ç­¾", text: "æ‰€æœ‰çš„ç›¸é‡éƒ½æœ‰æ„ä¹‰ã€‚" },
            { number: "ç¬¬ã€‡äº”ä¸€ç­¾", text: "å»æ„Ÿå—é˜³å…‰è½åœ¨è‚©è†€çš„æ¸©åº¦ã€‚" },
            { number: "ç¬¬ã€‡äº”äºŒç­¾", text: "æƒ…ç»ªæ˜¯ä¸€é˜µé£ï¼Œå¹è¿‡å°±æ²¡æœ‰äº†ã€‚" },
            { number: "ç¬¬ã€‡äº”ä¸‰ç­¾", text: "å¯¹è‡ªå·±è¯´ä¸€å¥ï¼šè¾›è‹¦äº†ã€‚" },
            { number: "ç¬¬ã€‡äº”å››ç­¾", text: "å…è®¸è‡ªå·±ä»Šå¤©çŠ¶æ€ä¸ä½³ã€‚" },
            { number: "ç¬¬ã€‡äº”äº”ç­¾", text: "ä½ çš„ä»·å€¼ä¸éœ€è¦åˆ«äººæ¥å®šä¹‰ã€‚" },
            { number: "ç¬¬ã€‡äº”å…­ç­¾", text: "åˆ«å®³æ€•ä»å¤´å¼€å§‹ã€‚" },
            { number: "ç¬¬ã€‡äº”ä¸ƒç­¾", text: "æŠŠè„šæ­¥æ”¾ç¨³ï¼Œä¸€æ­¥æ­¥èµ°ã€‚" },
            { number: "ç¬¬ã€‡äº”å…«ç­¾", text: "å–ä¸€æ¯æ¸©æ°´ï¼Œæ¸©æš–ä½ çš„èƒƒã€‚" },
            { number: "ç¬¬ã€‡äº”ä¹ç­¾", text: "ä¸“æ³¨çœ¼å‰çš„äº‹ï¼Œå°±è¶³å¤Ÿäº†ã€‚" },
            { number: "ç¬¬ã€‡å…­ã€‡ç­¾", text: "é¡ºåŠ¿è€Œä¸ºï¼Œä¸å¼ºæ±‚ã€‚" },
            { number: "ç¬¬ã€‡å…­ä¸€ç­¾", text: "ä»Šå¤©è¯•ç€ä¸å»æŠ±æ€¨ã€‚" },
            { number: "ç¬¬ã€‡å…­äºŒç­¾", text: "å¾®ç¬‘å§ï¼Œå³ä½¿æ²¡æœ‰ç†ç”±ã€‚" },
            { number: "ç¬¬ã€‡å…­ä¸‰ç­¾", text: "å¤±è´¥åªæ˜¯æš‚æ—¶çš„åèˆªã€‚" },
            { number: "ç¬¬ã€‡å…­å››ç­¾", text: "çˆ±è‡ªå·±ï¼Œæ˜¯ä¸€ç”Ÿçš„è¯¾é¢˜ã€‚" },
            { number: "ç¬¬ã€‡å…­äº”ç­¾", text: "ç»™è‡ªå·±ä¸€ç‚¹è€å¿ƒï¼Œæˆé•¿éœ€è¦æ—¶é—´ã€‚" },
            { number: "ç¬¬ã€‡å…­å…­ç­¾", text: "åˆ«è®©è¿‡å»çš„é˜´å½±æŒ¡ä½ä»Šå¤©çš„é˜³å…‰ã€‚" },
            { number: "ç¬¬ã€‡å…­ä¸ƒç­¾", text: "æ”¾ä¸‹æ‰§å¿µï¼Œå¾—å¤§è‡ªåœ¨ã€‚" },
            { number: "ç¬¬ã€‡å…­å…«ç­¾", text: "æ„Ÿå—æ¯ä¸€æ¬¡å¿ƒè·³ã€‚" },
            { number: "ç¬¬ã€‡å…­ä¹ç­¾", text: "ä¸€åˆ‡éƒ½æ˜¯æœ€å¥½çš„å®‰æ’ã€‚" },
            { number: "ç¬¬ã€‡ä¸ƒã€‡ç­¾", text: "ä¸è¦å’Œåˆ«äººæ¯”è¾ƒï¼Œä½ åªå±äºä½ è‡ªå·±ã€‚" },
            { number: "ç¬¬ã€‡ä¸ƒä¸€ç­¾", text: "å…è®¸åˆ«äººåšåˆ«äººï¼Œå…è®¸è‡ªå·±åšè‡ªå·±ã€‚" },
            { number: "ç¬¬ã€‡ä¸ƒäºŒç­¾", text: "ä¸“æ³¨è¿‡ç¨‹ï¼Œæ”¾ä¸‹å¯¹ç»“æœçš„æ‰§ç€ã€‚" },
            { number: "ç¬¬ã€‡ä¸ƒä¸‰ç­¾", text: "æ¯ä¸€å¤©éƒ½æ˜¯å´­æ–°çš„å¼€å§‹ã€‚" },
            { number: "ç¬¬ã€‡ä¸ƒå››ç­¾", text: "å»è§æƒ³è§çš„äººï¼Œåšæƒ³åšçš„äº‹ã€‚" },
            { number: "ç¬¬ã€‡ä¸ƒäº”ç­¾", text: "ä¿æŒå†…å¿ƒçš„å®é™ã€‚" },
            { number: "ç¬¬ã€‡ä¸ƒå…­ç­¾", text: "çƒ¦æ¼ä¸è¿‡å¤œã€‚" },
            { number: "ç¬¬ã€‡ä¸ƒä¸ƒç­¾", text: "å¬ä¸€é¦–å–œæ¬¢çš„æ­Œã€‚" },
            { number: "ç¬¬ã€‡ä¸ƒå…«ç­¾", text: "æ„Ÿå—å¾®é£æ‹‚è¿‡è„¸åºã€‚" },
            { number: "ç¬¬ã€‡ä¸ƒä¹ç­¾", text: "ä½ çš„æ¯ä¸€ä¸ªå†³å®šéƒ½æ˜¯ä¸ºäº†ä¿æŠ¤è‡ªå·±ã€‚" },
            { number: "ç¬¬ã€‡å…«ã€‡ç­¾", text: "ä¸è¦è¿‡åº¦æ¶ˆè€—è‡ªå·±çš„èƒ½é‡ã€‚" },
            { number: "ç¬¬ã€‡å…«ä¸€ç­¾", text: "ä»Šå¤©é€‚åˆåƒç‚¹ç”œçš„ã€‚" },
            { number: "ç¬¬ã€‡å…«äºŒç­¾", text: "èµç¾è‡ªå·±çš„ä¸€ç‚¹å°æˆå°±ã€‚" },
            { number: "ç¬¬ã€‡å…«ä¸‰ç­¾", text: "å‹‡æ•¢è¡¨è¾¾ä½ çš„æ„Ÿå—ã€‚" },
            { number: "ç¬¬ã€‡å…«å››ç­¾", text: "åˆ«æŠŠä¸–ç•Œæ‰›åœ¨è‡ªå·±è‚©ä¸Šã€‚" },
            { number: "ç¬¬ã€‡å…«äº”ç­¾", text: "æ”¾ä¸‹é‚£äº›ä¸å±äºä½ çš„è´£ä»»ã€‚" },
            { number: "ç¬¬ã€‡å…«å…­ç­¾", text: "è®©å¿ƒå½’é›¶ã€‚" },
            { number: "ç¬¬ã€‡å…«ä¸ƒç­¾", text: "æ´»åœ¨å½“ä¸‹ï¼Œä¸ç•å°†æ¥ã€‚" },
            { number: "ç¬¬ã€‡å…«å…«ç­¾", text: "å»æ‹‰ä¼¸ä¸€ä¸‹ç­‹éª¨å§ã€‚" },
            { number: "ç¬¬ã€‡å…«ä¹ç­¾", text: "å»åšé‚£ä¸ªä½ æƒ³åšå´æ²¡æœ‰åšçš„äº‹ã€‚" },
            { number: "ç¬¬ã€‡ä¹ã€‡ç­¾", text: "æŠŠä»Šå¤©è¿‡å¥½ï¼Œæ˜å¤©è‡ªç„¶ä¼šå¥½ã€‚" },
            { number: "ç¬¬ã€‡ä¹ä¸€ç­¾", text: "åªè¦åœ¨åŠ¨ï¼Œæ…¢ä¸€ç‚¹ä¹Ÿæ— å¦¨ã€‚" },
            { number: "ç¬¬ã€‡ä¹äºŒç­¾", text: "å€¾å¬å†…å¿ƒçš„å£°éŸ³ã€‚" },
            { number: "ç¬¬ã€‡ä¹ä¸‰ç­¾", text: "ä¸è¦è®©ææƒ§é˜»æŒ¡ä½ çš„è„šæ­¥ã€‚" },
            { number: "ç¬¬ã€‡ä¹å››ç­¾", text: "äº«å—å½“ä¸‹çš„å®é™ã€‚" },
            { number: "ç¬¬ã€‡ä¹äº”ç­¾", text: "å¯¹èº«è¾¹çš„äººè¯´å£°è°¢è°¢ã€‚" },
            { number: "ç¬¬ã€‡ä¹å…­ç­¾", text: "ä½ æœ‰èƒ½åŠ›åº¦è¿‡ä»»ä½•éš¾å…³ã€‚" },
            { number: "ç¬¬ã€‡ä¹ä¸ƒç­¾", text: "ç›¸ä¿¡ç”Ÿå‘½çš„å¯èƒ½æ€§ã€‚" },
            { number: "ç¬¬ã€‡ä¹å…«ç­¾", text: "å»æ„Ÿå—æ³¥åœŸçš„æ°”æ¯ã€‚" },
            { number: "ç¬¬ã€‡ä¹ä¹ç­¾", text: "åœ¨ç®€å•ä¸­å‘ç°å¿«ä¹ã€‚" },
            { number: "ç¬¬ä¸€ã€‡ã€‡ç­¾", text: "ä½ å€¼å¾—ä¸–é—´ä¸€åˆ‡ç¾å¥½ã€‚" }
        ];

        function displayTodayFortune() {
            const now = new Date();
            const start = new Date(now.getFullYear(), 0, 0);
            const diff = now - start;
            const oneDay = 1000 * 60 * 60 * 24;
            const dayOfYear = Math.floor(diff / oneDay);
            
            const index = (dayOfYear - 1) % fortunes.length; 
            
            if (fortunes[index]) {
                document.getElementById('stick-number').innerText = fortunes[index].number;
                document.getElementById('fortune-text').innerText = fortunes[index].text;
            }
        }
        displayTodayFortune();

        const tubeWrapper = document.getElementById('tube-wrapper');
        const stickWrapper = document.getElementById('stick-wrapper');
        const tooltip = document.getElementById('tooltip');

        // ğŸµ ã€æ–°å¢éƒ¨åˆ†ã€‘è·å–éŸ³é¢‘å…ƒç´ 
        const bgMusic = document.getElementById('bg-music');
        let isMusicPlaying = false; 

        
        let isDrawn = false; 

        tubeWrapper.addEventListener('click', () => {

            // ğŸµ ã€æ–°å¢éƒ¨åˆ†ã€‘åœ¨ç”¨æˆ·ç¬¬ä¸€æ¬¡ç‚¹å‡»ç­¾ç­’æ—¶ï¼Œæ’­æ”¾éŸ³ä¹
            if (!isMusicPlaying) {
                bgMusic.play().then(() => {
                    isMusicPlaying = true;
                }).catch(error => {
                    console.log("æµè§ˆå™¨é™åˆ¶äº†è‡ªåŠ¨æ’­æ”¾ï¼š", error);
                });
            }

            if (!isDrawn) {
                isDrawn = true;
                stickWrapper.classList.add('drawn');
                tubeWrapper.classList.add('drawn');
                
                // æ‰‹æœºä¸Šç‚¹å‡»åï¼Œæç¤ºæ–‡å­—æ˜¾å¼æ›´æ”¹å¹¶æ˜¾ç¤º
                tooltip.style.opacity = '1';
                tooltip.innerText = "æ”¾å›ã€Œå°å¯ç­¾ã€";
                
                // 3ç§’åè‡ªåŠ¨éšè—æç¤ºï¼Œä¿æŒæ‰‹æœºç”»é¢å¹²å‡€
                setTimeout(() => {
                    if(isDrawn) tooltip.style.opacity = '0';
                }, 3000);

            } else {
                isDrawn = false;
                stickWrapper.classList.remove('drawn');
                tubeWrapper.classList.remove('drawn');
                stickWrapper.classList.remove('flipped'); 
                
                tooltip.style.opacity = '1';
                tooltip.innerText = "ç‚¹å‡»æŠ½å–ä»Šæ—¥ã€Œå°å¯ç­¾ã€";
                
                setTimeout(() => {
                    if(!isDrawn) tooltip.style.opacity = '0';
                }, 3000);
            }
        });

        stickWrapper.addEventListener('click', () => {
            if (isDrawn) {
                stickWrapper.classList.toggle('flipped');
            }
        });
    </script>
</body>
</html>